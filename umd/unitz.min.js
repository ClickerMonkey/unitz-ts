!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("Unitz",[],n):"object"==typeof exports?exports.Unitz=n():t.Unitz=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){t.exports=e(1)},function(t,n,e){"use strict";function r(t){return p(t)<D}function i(t,n){return p(t-n)<D}function o(t){return p(Math.floor(t)-t)<D}function u(t){return a(t)&&p(p(t)-1)<D}function s(t){return 1!==t&&-1!==t}function a(t){return isFinite(t)}function c(t,n){if(!o(t)||!o(n))return 1;var e=t<n?t:n,r=t<n?n:t;for(e=p(e),r=p(r);r;){var i=r;r=e%r,e=i}return e}function p(t){return t<0?-t:t}function f(t){return t<0?-1:0===t?0:1}function l(t,n){return n instanceof Array?t.push.apply(t,n):n&&t.push(n),t}function h(t){return!!(t&&t.system&&t.unit&&t.denominators&&t.units)}function m(t){return!(!t||!(t.value||t.unit||t.num||t.den))}function g(t){return!!(t&&t.min&&t.max)}function d(t){return t instanceof Array}function v(t){return"string"==typeof t}function y(t){return void 0!==t}function b(t,n){return y(t)?t:n}function S(t,n){return d(t)?x(t,n):v(t)?N(t,n):g(t)?x([t],n):m(t)?x([t],n):[]}function x(t,n){for(var e=[],r=0;r<t.length;r++){var i=E(t[r],n);e.push(i)}return e}function N(t,n){return x(t.split(_),n)}function E(t,n){if(v(t))return O(t,n);if(g(t)){var e=t,r=R(e.min,n),i=R(e.max,n);return new z(r,i)}return null}function O(t,n){var e=X.exec(t);if(!e){var r=A(t,n);return new z(r,r)}var i=e[1],o=e[2],u=U(i),s=U(o),a=u.unit||s.unit,c=s.unit||u.unit,p=P(u,a,n),f=P(s,c,n);return new z(p,f)}function R(t,n){return v(t)?A(t,n):m(t)?w(t,n):null}function w(t,n){var e=y(t.value)?t.value:1,r=y(t.num)?t.num:e,i=y(t.den)?t.den:1,o=y(t.value)?t.value:r/i,u=t.unit||"",s=n(u);return new B(o,r,i,u,s)}function A(t,n){var e=U(t);return P(e,e.unit,n)}function P(t,n,e){var r=e(n);return new B(t.value,t.valueNum,t.valueDen,n,r)}function U(t){var n=W.exec(t),e=parseInt(n[1]),r=isFinite(e),i="-"===n[1].charAt(0)?-1:1,o=parseInt(n[3]),u=parseInt(n[5]),s=parseInt(n[6]),a=n[7];if(!r&&isFinite(s)&&(e=0,r=!0),!r&&!a)return null;var c=1,p=1,f=1;if(r){if(c=e,f=e,isFinite(u))p=u,isFinite(o)?(c+=o/u*i,f*=u,f+=o):c/=u;else if(isFinite(s)){var l=parseFloat("0."+s);c+=l*i,f+=l}f*=i}return{value:c,valueNum:f,valueDen:p,num:o,den:u,unit:a}}function I(t,n,e){switch(t){case C.METRIC:return n.system===C.METRIC;case C.IMPERIAL:return n.system===C.IMPERIAL;case C.NONE:return!1;case C.ANY:return!0;case C.GIVEN:return e&&n.baseUnit===e.baseUnit}return!1}function M(t){var n=(t||"").toLowerCase(),e=tt[n];return e?e.groupMap[n]:null}function L(t){K[t.name]=t,Q.push(t);for(var n in t.converters)tt[n]=t}function T(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=0;e<t.length;e++)L(t[e])}function F(t){return new it(t)}function G(t){return t instanceof it?t:new it(t)}Object.defineProperty(n,"__esModule",{value:!0});var j;!function(t){t[t.SINGULAR=0]="SINGULAR",t[t.PLURAL=1]="PLURAL",t[t.EITHER=2]="EITHER"}(j=j||(j={}));var C;!function(t){t[t.METRIC=0]="METRIC",t[t.IMPERIAL=1]="IMPERIAL",t[t.NONE=2]="NONE",t[t.ANY=3]="ANY",t[t.GIVEN=4]="GIVEN"}(C=C||(C={}));var V,D=1e-5,z=function(){function t(t,n){this.min=t.value<n.value?t:n,this.max=n.value>t.value?n:t}return Object.defineProperty(t.prototype,"isValid",{get:function(){return this.min.isValid&&this.max.isValid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFraction",{get:function(){return this.min.isFraction||this.max.isFraction},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDecimal",{get:function(){return this.min.isDecimal&&this.max.isDecimal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRange",{get:function(){return this.min.value!==this.max.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFixed",{get:function(){return this.min.value===this.max.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"average",{get:function(){return.5*(this.min.value+this.max.value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.min.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimum",{get:function(){return this.min.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximum",{get:function(){return this.max.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unit",{get:function(){return this.min.group.unit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asString",{get:function(){return this.min.value===this.max.value?this.min.asString:this.min.asString+t.SEPARATOR+this.max.asString},enumerable:!0,configurable:!0}),t.prototype.isMatch=function(t){return this.min.group===t.min.group&&this.max.group===t.max.group},t.prototype.positive=function(){var n=this.min.value<0;return this.max.value<0?null:new t(n?this.min.zero():this.min.copy(),this.max.copy())},t.prototype.negative=function(){var n=this.min.value>=0,e=this.max.value>=0;return n?null:new t(this.min.copy(),e?this.max.zero():this.max.copy())},t.prototype.nonzero=function(){var n=0===this.min.value,e=0===this.max.value;return n&&e?null:new t(this.min.copy(),this.max.copy())},t.prototype.maxd=function(){var n=this.max.copy();return new t(n,n)},t.prototype.mind=function(){var n=this.min.copy();return new t(n,n)},t.prototype.normalize=function(n){return new t(this.min.normalize(n),this.max.normalize(n))},t.prototype.add=function(n,e){return void 0===e&&(e=1),new t(this.min.add(n.min,e),this.max.add(n.max,e))},t.prototype.sub=function(n,e){return void 0===e&&(e=1),new t(this.min.sub(n.min,e),this.max.sub(n.max,e))},t.prototype.mul=function(n){return new t(this.min.mul(n),this.max.mul(n))},t.fromFixed=function(n){return new t(n,n)},t.SEPARATOR=" - ",t}(),B=function(){function t(t,n,e,r,i){var o=c(n,e);this.value=t,this.num=n/o,this.den=e/o,this.unit=r,this.group=i}return Object.defineProperty(t.prototype,"isValid",{get:function(){return isFinite(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFraction",{get:function(){return 1!==this.den},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDecimal",{get:function(){return 1===this.den},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaled",{get:function(){return this.group?this.value*this.group.baseScale:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScaled",{get:function(){return this.group?this.value*this.group.classScale:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actual",{get:function(){return this.num/this.den},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mixedWhole",{get:function(){return 1!==this.den?Math.floor(this.num/this.den):0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mixedNum",{get:function(){return 1!==this.den?this.num%this.den:this.num},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"floor",{get:function(){return Math.floor(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"remainder",{get:function(){return this.value-this.floor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this.actual-this.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return p(this.error)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asString",{get:function(){return 1===this.den?this.value+"":0!==this.mixedWhole?this.mixedWhole+t.SEPARATOR_MIXED+this.mixedNum+t.SEPARATOR_FRACTION+this.den:this.num+t.SEPARATOR_FRACTION+this.den},enumerable:!0,configurable:!0}),t.prototype.copy=function(){return new t(this.value,this.num,this.den,this.unit,this.group)},t.prototype.zero=function(){return new t(0,0,1,this.unit,this.group)},t.prototype.floored=function(){return new t(this.floor,this.floor,1,this.unit,this.group)},t.prototype.convertTo=function(t){var n=this.group;return n?n.parent.convert(this.value,n,t):this.value},t.prototype.convertToValue=function(n){return t.fromNumberForGroup(this.convertTo(n),n)},t.prototype.conversions=function(t,n,e){var r=this;this.group&&this.group.matches(t,n,function(t,n){e(r.convertToValue(t),n)})},t.prototype.normalize=function(t){var n=this,e=this.asString;return this.conversions(t,!1,function(t){var r=t.asString;r.length<=e.length&&(n=t,e=r)}),n},t.prototype.add=function(n,e){void 0===e&&(e=1);var r=this.num*n.den+n.num*this.den*e,i=this.den*n.den;return new t(this.value+n.value*e,r,i,this.unit,this.group)},t.prototype.sub=function(n,e){void 0===e&&(e=1);var r=this.num*n.den-n.num*this.den*e,i=this.den*n.den;return new t(this.value-n.value*e,r,i,this.unit,this.group)},t.prototype.mul=function(n){return new t(this.value*n,this.num*n,this.den,this.unit,this.group)},t.fromNumber=function(n,e,r){return void 0===e&&(e=""),void 0===r&&(r=null),new t(n,n,1,e,r)},t.fromNumberWithRange=function(n,e,r,i,o){void 0===e&&(e=""),void 0===r&&(r=null),void 0===i&&(i=1),void 0===o&&(o=100);for(var u=0,s=-1,a=i;a<=o;a++){var c=a,f=Math.floor(c*n),l=f/c,h=p(n-l);(-1===s||h<s)&&(s=h,u=c)}return s>D?new t(n,n,1,e,r):new t(n,Math.floor(n*u),u,e,r)},t.fromNumberForGroup=function(t,n){return this.fromNumberWithDenominators(t,n.denominators,n.preferredUnit,n)},t.fromNumberWithDenominators=function(n,e,r,i){void 0===r&&(r=""),void 0===i&&(i=null);for(var o=0,u=-1,s=0;s<e.length;s++){var a=e[s],c=Math.floor(a*n),f=c/a,l=p(n-f);(-1===u||l<u)&&(u=l,o=a)}return u>D?new t(n,n,1,r,i):new t(n,Math.floor(n*o),o,r,i)},t.fromFraction=function(n,e,r,i){return void 0===r&&(r=""),void 0===i&&(i=null),new t(n/e,n,e,r,i)},t.INVALID=new t(Number.NaN,Number.NaN,1,"",null),t.SEPARATOR_FRACTION="/",t.SEPARATOR_MIXED=" ",t}(),X=/\s*(-?[^-]+)-(.+)/,_=/\s*,\s*/,W=/^\s*(-?\d*)(\s+(\d+))?(\s*\/\s*(\d+)|\.(\d+)|)\s*(.*)\s*$/i;!function(t){t[t.NONE=0]="NONE",t[t.GIVEN=1]="GIVEN",t[t.SHORT=2]="SHORT",t[t.LONG=3]="LONG"}(V=V||(V={}));var H;!function(t){t[t.GIVEN=0]="GIVEN",t[t.NUMBER=1]="NUMBER",t[t.MIXED=2]="MIXED",t[t.FRACTION=3]="FRACTION"}(H=H||(H={}));var Y,$=function(){function t(t){this.unit=V.GIVEN,this.format=H.GIVEN,this.repeatUnit=!1,this.unitSpacer="",this.rangeSpacer=" - ",this.fractionSpacer="/",this.mixedSpacer=" ",this.delimiter=", ",this.significant=2,y(t)&&this.set(t)}return t.prototype.set=function(t){return this.unit=b(t.unit,this.unit),this.format=b(t.format,this.format),this.repeatUnit=b(t.repeatUnit,this.repeatUnit),this.unitSpacer=b(t.unitSpacer,this.unitSpacer),this.rangeSpacer=b(t.rangeSpacer,this.rangeSpacer),this.fractionSpacer=b(t.fractionSpacer,this.fractionSpacer),this.mixedSpacer=b(t.mixedSpacer,this.mixedSpacer),this.delimiter=b(t.delimiter,this.delimiter),this.significant=b(t.significant,this.significant),this},t.prototype.extend=function(n){var e=this;return y(n)&&(n instanceof t?e=n:(e=new t(this),e.set(n))),e},t.prototype.ranges=function(t){for(var n="",e=0;e<t.length;e++)e>0&&(n+=this.delimiter),n+=this.range(t[e]);return n},t.prototype.range=function(t){var n="";if(t.isFixed)n+=this.value(t.min);else{var e=this.repeatUnit||t.min.unit!==t.max.unit;n+=this.value(t.min,e),n+=this.rangeSpacer,n+=this.value(t.max)}return n},t.prototype.value=function(t,n){void 0===n&&(n=!0);var e="";if(this.isFraction(t))this.isMixed(t)?(e+=t.mixedWhole,e+=this.mixedSpacer,e+=t.mixedNum,e+=this.fractionSpacer,e+=t.den):(e+=t.num,e+=this.fractionSpacer,e+=t.den);else{var r=t.value+"",i=t.value.toFixed(this.significant).replace(/0*$/,"").replace(/\.$/,"");e+=i.length<r.length?i:r}if(this.unit!==V.NONE&&n){var o=t.group;e+=this.unitSpacer,this.isLongUnit(t)?e+=u(t.value)?o.getSingularLong():o.getPluralLong():this.isShortUnit(t)?e+=u(t.value)?o.getSingularShort():o.getPluralShort():e+=t.unit}return e},t.prototype.isFraction=function(t){return t.isFraction&&this.format!==H.NUMBER},t.prototype.isMixed=function(t){return 0!==t.mixedWhole&&this.format===H.MIXED},t.prototype.isShortUnit=function(t){return t.group&&this.unit===V.SHORT},t.prototype.isLongUnit=function(t){return t.group&&this.unit===V.LONG},t}(),k=function(){function t(t){this.common=!0,this.system=C.GIVEN,y(t)&&this.set(t)}return t.prototype.set=function(t){return this.common=b(t.common,this.common),this.system=b(t.system,this.system),this},t.prototype.extend=function(n){var e=this;return y(n)&&(n instanceof t?e=n:(e=new t(this),e.set(n))),e},t}(),q=function(){function t(t,n){this.baseScale=1,this.classScale=0,this.dynamic=!1,this.system=t.system,this.common=!!t.common,this.unit=t.unit,this.baseUnit=t.baseUnit,this.preferredUnit=t.preferredUnit||t.unit,this.relativeUnit=t.relativeUnit,this.relativeScale=t.relativeScale||1,this.units=t.units,this.denominators=t.denominators,this.parent=n,this.updateUnits()}return Object.defineProperty(t.prototype,"isBase",{get:function(){return this.unit===this.baseUnit},enumerable:!0,configurable:!0}),t.prototype.setDynamic=function(t){return void 0===t&&(t=!0),this.dynamic=t,this},t.prototype.addUnits=function(t){for(var n in t)this.units[n]=t[n];return this.updateUnits(),this},t.prototype.addDenominator=function(t){return l(this.denominators,t),this},t.prototype.setDenominators=function(t){return this.denominators=t,this},t.prototype.updateUnits=function(){this.singularShort=null,this.singularLong=null,this.pluralShort=null,this.pluralLong=null;for(var t in this.units){var n=this.units[t];n!==j.PLURAL&&((!this.singularShort||t.length<this.singularShort.length)&&(this.singularShort=t),(!this.singularLong||t.length>this.singularLong.length)&&(this.singularLong=t)),n!==j.SINGULAR&&((!this.pluralShort||t.length<this.pluralShort.length)&&(this.pluralShort=t),(!this.pluralLong||t.length>this.pluralLong.length)&&(this.pluralLong=t))}return this},t.prototype.getPluralLong=function(){return this.pluralLong},t.prototype.getPluralShort=function(){return this.pluralShort},t.prototype.getSingularLong=function(){return this.singularLong},t.prototype.getSingularShort=function(){return this.singularShort},t.prototype.matches=function(t,n,e){if(this.parent)for(var r=this.parent.groups,i=0,o=n?r.length-1:0,u=n?-1:r.length,s=n?-1:1,a=o;a!==u;a+=s){var c=r[a];!I(t.system,c,this)||!c.common&&t.common||e(c,i++)}},t}(),Z=function(){function t(t,n){this.name=t,this.groupMap={},this.groups=[],this.bases={},this.converters={},this.mapping={},n&&this.addGroups(n)}return t.prototype.addGroups=function(t){for(var n=0;n<t.length;n++)this.addGroup(t[n]);return this},t.prototype.addGroup=function(t){var n=new q(t,this),e=n.relativeUnit,r=n.units;e&&(n.baseScale=n.relativeScale*this.converters[e],n.baseUnit=this.bases[e]);for(var i in r)this.converters[i]=n.baseScale,this.bases[i]=n.baseUnit,this.groupMap[i]=n;return this.groups.push(n),this},t.prototype.getFirstBase=function(){for(var t=this.groups,n=0;n<t.length;n++){var e=t[n];if(e.unit===e.baseUnit)return e}return null},t.prototype.setClassScales=function(){var t=this.groups,n=this.getFirstBase();if(n)for(var e=0;e<t.length;e++){var r=t[e];r.baseUnit===n.baseUnit?r.classScale=r.baseScale:r.baseUnit in this.mapping&&(r.classScale=this.mapping[r.baseUnit][n.baseUnit](r.baseScale))}return this},t.prototype.setBaseConversion=function(t,n,e){var r=this.mapping;return r[t]=r[t]||{},r[t][n]=e,this},t.prototype.convert=function(t,n,e){if(n===e||!n||!e)return t;var r=t*n.baseScale;if(n.baseUnit!==e.baseUnit){r=(0,this.mapping[n.baseUnit][e.baseUnit])(r)}return r/e.baseScale},t}();!function(t){t[t.MIN=0]="MIN",t[t.MAX=1]="MAX",t[t.AVERAGE=2]="AVERAGE"}(Y=Y||(Y={}));var J=function(){function t(t){this.ascending=!1,this.type=Y.MAX,this.classes={},y(t)&&this.set(t)}return t.prototype.set=function(t){if(this.ascending=b(t.ascending,this.ascending),this.type=b(t.type,this.type),y(t.classes))for(var n in t.classes)this.classes[n]=t.classes[n];return this},t.prototype.extend=function(n){var e=this;return y(n)&&(n instanceof t?e=n:(e=new t(this),e.set(n))),e},t.prototype.getSorter=function(){var t=this;return function(n,e){var r=t.getClassComparison(n,e);if(0===r)switch(t.type){case Y.MIN:r=t.getMinComparison(n,e);break;case Y.MAX:r=t.getMaxComparison(n,e);break;case Y.AVERAGE:r=t.getAverageComparison(n,e)}return t.ascending?r:-r}},t.prototype.getMinComparison=function(t,n){return f(t.min.classScaled-n.min.classScaled)},t.prototype.getMaxComparison=function(t,n){return f(t.max.classScaled-n.max.classScaled)},t.prototype.getAverageComparison=function(t,n){return f(.5*(t.min.classScaled+t.max.classScaled)-.5*(n.min.classScaled+n.max.classScaled))},t.prototype.getClassComparison=function(t,n){var e=t.min.group?1:-1,r=n.min.group?1:-1;return e!==r?e-r:(this.classes[t.min.group.parent.name]||0)-(this.classes[n.min.group.parent.name]||0)},t}(),K={},Q=[],tt={},nt=new $,et=new k,rt=new J,it=function(){function t(t,n){this.input=t,this.ranges=n||S(t,M)}return t.prototype.scale=function(t){return this.mutate(function(n){return n.mul(t)})},t.prototype.scaleTo=function(t){return this.scale(this.getScaleTo(t))},t.prototype.positive=function(){return this.mutate(function(t){return t.positive()})},t.prototype.negative=function(){return this.mutate(function(t){return t.negative()})},t.prototype.nonzero=function(){return this.mutate(function(t){return t.nonzero()})},t.prototype.max=function(){return this.mutate(function(t){return t.maxd()})},t.prototype.min=function(){return this.mutate(function(t){return t.mind()})},t.prototype.normalize=function(t){var n=et.extend(t);return this.mutate(function(t){return t.normalize(n)})},t.prototype.compact=function(n){var e=[],r=et.extend(n),i=this.groupByClass(),o=i.classes,u=i.groupless;for(var s in o){for(var a=o[s],c=a.ranges,p=a.parent,f=null,l=null,h=0,m=0,g=0;g<c.length;g++){var d=c[g],v=d.min.group,y=d.max.group;(!f||(v.common||!r.common)&&v.baseScale>f.baseScale)&&(h=p.convert(h,f,v),f=v),(!l||(y.common||!r.common)&&y.baseScale>l.baseScale)&&(m=p.convert(m,l,y),l=y),h+=d.min.convertTo(f),m+=d.max.convertTo(l)}var b=B.fromNumberForGroup(h,f),S=B.fromNumberForGroup(m,l);e.push(new z(b,S))}if(u.length){for(var h=new B(0,0,1,"",null),m=new B(0,0,1,"",null),g=0;g<u.length;g++)h=h.add(u[g].min),m=m.add(u[g].max);e.push(new z(h,m))}return new t(this.input,e)},t.prototype.expand=function(n){for(var e=et.extend(n),r=this.compact(e),i=r.ranges,o=[],u=0;u<i.length;u++)!function(t){var n=i[t],r=n.min,u=r.group;u?u.matches(e,!0,function(t){if(r.value>0){var n=r.convertToValue(t);if(t.isBase)o.push(z.fromFixed(n));else if(n.value>1){var e=n.floored(),i=t.baseScale/u.baseScale;r=r.sub(e,i),o.push(z.fromFixed(e))}}}):o.push(n)}(u);return new t(this.input,o)},t.prototype.groupByClass=function(){for(var t=this.ranges,n={},e=[],r=0;r<t.length;r++){var i=t[r];if(i.min.group){var o=i.min.group.parent,u=n[o.name];u||(u=n[o.name]={parent:o,ranges:[]}),u.ranges.push(i)}else e.push(i)}return{classes:n,groupless:e}},t.prototype.add=function(t,n){return void 0===n&&(n=1),this.operateMatches(t,function(t,e){return t.add(e,n)})},t.prototype.sub=function(t,n){return void 0===n&&(n=1),this.operateMatches(t,function(t,e){return t.sub(e,n)})},t.prototype.operateMatches=function(n,e){for(var r=this.ranges,i=[],o=G(n),u=o.ranges,s=[],a=0;a<r.length;a++){for(var c=r[a],p=0;p<u.length;p++)if(!s[p]){var f=u[p];c.isMatch(f)&&(c=e(c,f),s[p]=!0)}i.push(c)}for(var p=0;p<u.length;p++)s[p]||i.push(u[p]);return new t(this.input,i)},t.prototype.transform=function(t){var n=et.extend(t);return this.mutate(function(t){var e=null,r=null;return t.min.conversions(n,!1,function(t){(!e||t.asString.length<e.asString.length)&&(e=t)}),t.max.conversions(n,!1,function(t){(!r||t.asString.length<r.asString.length)&&(r=t)}),new z(e,r)})},t.prototype.getScaleTo=function(t){var n=R(t,M),e=this.convert(n.unit);return n.value/e.average},t.prototype.mutate=function(n){for(var e=[],r=this.ranges,i=0;i<r.length;i++){var o=n(r[i]);o&&e.push(o)}return new t(this.input,e)},t.prototype.output=function(t){return nt.extend(t).ranges(this.ranges)},t.prototype.convert=function(t){var n=M(t);if(!n)return null;for(var e=n.parent,r=this.ranges,i=new B(0,0,1,n.unit,n),o=new B(0,0,1,n.unit,n),u=0;u<r.length;u++){var s=r[u],a=s.min.group;if(a&&a.parent===e){var c=a.baseScale/n.baseScale;i=i.add(s.min,c),o=o.add(s.max,c)}}return new z(i,o)},t.prototype.sort=function(n){var e=rt.extend(n),r=this.ranges.slice();return r.sort(e.getSorter()),new t(this.input,r)},t}();e.d(n,"Plurality",function(){return j}),e.d(n,"System",function(){return C}),e.d(n,"EPSILON",function(){return D}),e.d(n,"isZero",function(){return r}),e.d(n,"isEqual",function(){return i}),e.d(n,"isWhole",function(){return o}),e.d(n,"isSingular",function(){return u}),e.d(n,"isPlural",function(){return s}),e.d(n,"isNumber",function(){return a}),e.d(n,"gcd",function(){return c}),e.d(n,"abs",function(){return p}),e.d(n,"sign",function(){return f}),e.d(n,"appendTo",function(){return l}),e.d(n,"isGroupDefinition",function(){return h}),e.d(n,"isValueDefinition",function(){return m}),e.d(n,"isRangeDefinition",function(){return g}),e.d(n,"isArray",function(){return d}),e.d(n,"isString",function(){return v}),e.d(n,"isDefined",function(){return y}),e.d(n,"coalesce",function(){return b}),e.d(n,"REGEX_RANGE",function(){return X}),e.d(n,"REGEX_LIST",function(){return _}),e.d(n,"REGEX_PARSE",function(){return W}),e.d(n,"parseRanges",function(){return S}),e.d(n,"parseRange",function(){return E}),e.d(n,"parseValue",function(){return R}),e.d(n,"parseInput",function(){return U}),e.d(n,"OutputUnit",function(){return V}),e.d(n,"OutputFormat",function(){return H}),e.d(n,"Output",function(){return $}),e.d(n,"Transform",function(){return k}),e.d(n,"Group",function(){return q}),e.d(n,"matchesGroup",function(){return I}),e.d(n,"Class",function(){return Z}),e.d(n,"Value",function(){return B}),e.d(n,"Range",function(){return z}),e.d(n,"uz",function(){return F}),e.d(n,"parseBase",function(){return G}),e.d(n,"Base",function(){return it}),e.d(n,"classMap",function(){return K}),e.d(n,"classes",function(){return Q}),e.d(n,"unitToClass",function(){return tt}),e.d(n,"globalOutput",function(){return nt}),e.d(n,"globalTransform",function(){return et}),e.d(n,"globalSort",function(){return rt}),e.d(n,"getGroupForUnit",function(){return M}),e.d(n,"addClass",function(){return L}),e.d(n,"addClasses",function(){return T})}])});
//# sourceMappingURL=unitz.min.js.map